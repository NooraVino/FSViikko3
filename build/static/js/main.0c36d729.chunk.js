(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,n,t){e.exports=t(39)},34:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var a=t(12),u=t(2),c=t(0),o=t.n(c),i=t(3),r=t.n(i),l="/api/persons",m=function(){return r.a.get(l)},s=function(e){return r.a.post(l,e)},f=function(e){return r.a.put("".concat(l,"/").concat(e.id),e)},d=function(e){return r.a.delete("".concat(l,"/").concat(e))},h=(t(34),function(e){var n=e.message;return null===n?null:o.a.createElement("div",{className:"error"},n)}),v=function(e){return o.a.createElement("div",null," rajaa ",o.a.createElement("input",{value:e.filter,onChange:e.handleFilterChange})," ")},b=function(e){return e.persons.map(function(n){return o.a.createElement("div",{className:"text",key:n.name},n.name," ",n.number,o.a.createElement("button",{className:"buttonStyle",onClick:function(){return e.deletePerson(n.id)}},"poista"))})},p=function(e){return o.a.createElement("form",{onSubmit:e.addPerson},o.a.createElement("div",null," nimi:  ",o.a.createElement("input",{value:e.newName,onChange:e.handleNameChange})),o.a.createElement("div",null," numero:  ",o.a.createElement("input",{value:e.newNumber,onChange:e.handleNumberChange})),o.a.createElement("div",null,o.a.createElement("button",{className:"buttonStyle",type:"submit"},"lis\xe4\xe4")))},E=function(){var e=Object(c.useState)([]),n=Object(u.a)(e,2),t=n[0],i=n[1],r=Object(c.useState)(""),l=Object(u.a)(r,2),E=l[0],g=l[1],j=Object(c.useState)(""),N=Object(u.a)(j,2),w=N[0],O=N[1],k=Object(c.useState)(""),y=Object(u.a)(k,2),C=y[0],S=y[1],P=Object(c.useState)(null),T=Object(u.a)(P,2),x=T[0],F=T[1];Object(c.useEffect)(function(){m().then(function(e){i(e.data)})},[]);var J=0===C.length?t:t.filter(function(e){return e.name.includes(C)});return o.a.createElement("div",null,o.a.createElement(h,{message:x}),o.a.createElement(v,{handleFilterChange:function(e){S(e.target.value)},value:C}),o.a.createElement("h2",{className:"h2"},"Puhelinluettelo"),o.a.createElement(p,{newName:E,handleNameChange:function(e){g(e.target.value)},newNumber:w,handleNumberChange:function(e){O(e.target.value)},addPerson:function(e){e.preventDefault();var n={name:E,number:w},u=t.find(function(e){return e.name===n.name});u||s(n).then(function(e){i(t.concat(e.data)),g(""),O(""),F("Lis\xe4tty ".concat(n.name," numerolla ").concat(w)),setTimeout(function(){F(null)},3e3)}).catch(function(e){F("nimi:  ".concat(n.name," tai numero: ").concat(w," liian lyhyt! (pituus v\xe4h 3 merkki\xe4)")),setTimeout(function(){F(null)},3e3)}),u&&window.confirm("".concat(n.name," on jo luettelossa. Haluatko korvata vanhan numeron?"))?f(Object(a.a)({},u,{number:w})).then(function(e){i(t.map(function(n){return n.name===E?e.data:n})),g(""),O(""),F("Korvattu ".concat(u.name,". Uusi numero on ").concat(w)),setTimeout(function(){F(null)},3e3)}).catch(function(e){F("nimi:  ".concat(n.name," tai numero: ").concat(w," liian lyhyt! (pituus v\xe4h 3 merkki\xe4)")),setTimeout(function(){F(null)},3e3)}):(g(""),O(""))}}),o.a.createElement("h2",{className:"h2"},"Numerot"),o.a.createElement(b,{persons:J,deletePerson:function(e){var n=t.find(function(n){return n.id===e});window.confirm("Poistetaanko ".concat(n.name))&&d(e).then(function(){F("Poistettu ".concat(n.name)),setTimeout(function(){F(null)},3e3),i(t.filter(function(n){return n.id!==e}))}).catch(function(a){F("muistiinpano \"'".concat(n.name,"'\" on jo valitettavasti poistettu palvelimelta")),setTimeout(function(){F(null)},3e3),i(t.filter(function(n){return n.id!==e}))})}}))},g=t(11);t.n(g).a.render(o.a.createElement(E,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.0c36d729.chunk.js.map