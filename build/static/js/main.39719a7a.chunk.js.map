{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","services_persons","axios","get","person","post","put","concat","id","delete","Notification","_ref","message","react_default","a","createElement","className","Filter","props","value","filter","onChange","handleFilterChange","Persons","persons","map","key","name","number","onClick","deletePerson","AddNewPersonForm","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setFilter","_useState9","_useState10","setMessage","useEffect","personService","then","response","data","showAll","length","includes","App_Notification","App_Filter","event","target","App_AddNewPersonForm","preventDefault","newPerson","oldPerson","find","p","setTimeout","catch","error","console","log","window","confirm","objectSpread","App_Persons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.39719a7a.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl)\n}\n\nconst create = (person) => {\n  return axios.post(baseUrl, person)\n}\n\nconst update = (person) => {\n  return axios.put(`${baseUrl}/${person.id}`, person)\n}\nconst deletePerson = (id) => {\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\nexport default {\n  getAll: getAll,\n  create: create,\n  update: update,\n  deletePerson: deletePerson\n}","\nimport React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\nimport './index.css'\n\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"error\">\n      {message}\n    </div>\n  )\n}\n\n\nconst Filter = (props) => {\n  return (\n    <div> rajaa <input value={props.filter} onChange={props.handleFilterChange} /> </div>\n  )\n}\n\nconst Persons = (props) => {\n  return (\n    props.persons.map(person =>\n      <div className= 'text' key={person.name}>\n        {person.name} {person.number}\n        <button className='buttonStyle' onClick={() => props.deletePerson(person.id)}>poista</button>\n      </div>\n    )\n  )\n}\n\n\nconst AddNewPersonForm = (props) => {\n  return (\n    <form onSubmit={props.addPerson}>\n      <div> nimi:  <input value={props.newName} onChange={props.handleNameChange} /></div>\n      <div> numero:  <input value={props.newNumber} onChange={props.handleNumberChange} /></div>\n      <div><button className='buttonStyle' type=\"submit\">lisää</button></div>\n    </form>\n  )\n}\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [message, setMessage] = useState(null)\n\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n  const deletePerson = (id) => {\n    const person = persons.find(p => p.id === id)\n    if (window.confirm(`Poistetaanko ${person.name}`)) {\n      personService\n        .deletePerson(id)\n        .then(() => {\n            setMessage(`Poistettu ${person.name}`)\n            setTimeout(() => {\n              setMessage(null)\n            }, 3000)\n          setPersons(persons.filter(p => p.id !== id))  \n        })\n        .catch(error => {\n          setMessage(\n            `muistiinpano \"'${person.name}'\" on jo valitettavasti poistettu palvelimelta`\n          )\n          setTimeout(() => {\n            setMessage(null)\n          }, 3000)\n           setPersons(persons.filter(p => p.id !== id)) \n        })\n\n    }\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n    const oldPerson = persons.find(p => p.name === newPerson.name)\n    if (!oldPerson) {\n      setMessage(`Lisätty ${newPerson.name} numerolla ${newNumber}`)\n    setTimeout(() => {\n      setMessage(null)\n    }, 3000)\n    personService\n      .create(newPerson)\n      .then(response => {\n        setPersons(persons.concat(response.data))\n        setNewName('')\n        setNewNumber('')\n       })\n       .catch(error => {\n        console.log(error.response.data)\n        setMessage(\n        `Jaa`\n        )\n        setTimeout(() => {\n          setMessage(null)\n        }, 3000)\n          \n      })\n    }\n\n    if (oldPerson && window.confirm(`${newPerson.name} on jo luettelossa. Haluatko korvata vanhan numeron?`)) {\n      setMessage(`Korvattu ${oldPerson.name}. Uusi numero on ${newNumber}`)\n      setTimeout(() => {\n        setMessage(null)\n      }, 3000)\n      personService\n        .update({...oldPerson, number:newNumber})\n        .then(response => {\n        setPersons(persons.map(p => p.name === newName ? response.data : p))\n        setNewName('')\n        setNewNumber('')\n      })\n\n      return\n    }\n    setNewName('')\n    setNewNumber('')\n    return\n  \n  }\n\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n\n  const showAll = filter.length === 0\n    ? persons\n    : persons.filter(person => person.name.includes(filter))\n\n\n  return (\n    <div>\n      <Notification message={message}/>\n      <Filter handleFilterChange={handleFilterChange} value={filter} />\n      <h2 className='h2'>Puhelinluettelo</h2>\n      <AddNewPersonForm newName={newName} handleNameChange={handleNameChange}\n        newNumber={newNumber} handleNumberChange={handleNumberChange}\n        addPerson={addPerson} />\n\n      <h2 className='h2'>Numerot</h2>\n      <Persons persons={showAll} deletePerson={deletePerson} />\n    </div>\n  )\n}\nexport default App","\nimport App from './App'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\n\nReactDOM.render(\n<App />, \ndocument.getElementById('root')\n)"],"sourceRoot":""}