(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,n,t){e.exports=t(39)},34:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var a=t(12),u=t(2),c=t(0),r=t.n(c),o=t(3),l=t.n(o),i="/api/persons",m=function(){return l.a.get(i)},s=function(e){return l.a.post(i,e)},f=function(e){return l.a.put("".concat(i,"/").concat(e.id),e)},d=function(e){return l.a.delete("".concat(i,"/").concat(e))},h=(t(34),function(e){var n=e.message;return null===n?null:r.a.createElement("div",{className:"error"},n)}),v=function(e){return r.a.createElement("div",null," rajaa ",r.a.createElement("input",{value:e.filter,onChange:e.handleFilterChange})," ")},b=function(e){return e.persons.map(function(n){return r.a.createElement("div",{className:"text",key:n.name},n.name," ",n.number,r.a.createElement("button",{className:"buttonStyle",onClick:function(){return e.deletePerson(n.id)}},"poista"))})},p=function(e){return r.a.createElement("form",{onSubmit:e.addPerson},r.a.createElement("div",null," nimi:  ",r.a.createElement("input",{value:e.newName,onChange:e.handleNameChange})),r.a.createElement("div",null," numero:  ",r.a.createElement("input",{value:e.newNumber,onChange:e.handleNumberChange})),r.a.createElement("div",null,r.a.createElement("button",{className:"buttonStyle",type:"submit"},"lis\xe4\xe4")))},E=function(){var e=Object(c.useState)([]),n=Object(u.a)(e,2),t=n[0],o=n[1],l=Object(c.useState)(""),i=Object(u.a)(l,2),E=i[0],g=i[1],j=Object(c.useState)(""),N=Object(u.a)(j,2),w=N[0],O=N[1],C=Object(c.useState)(""),S=Object(u.a)(C,2),k=S[0],P=S[1],y=Object(c.useState)(null),T=Object(u.a)(y,2),x=T[0],F=T[1];Object(c.useEffect)(function(){m().then(function(e){o(e.data)})},[]);var J=0===k.length?t:t.filter(function(e){return e.name.includes(k)});return r.a.createElement("div",null,r.a.createElement(h,{message:x}),r.a.createElement(v,{handleFilterChange:function(e){P(e.target.value)},value:k}),r.a.createElement("h2",{className:"h2"},"Puhelinluettelo"),r.a.createElement(p,{newName:E,handleNameChange:function(e){g(e.target.value)},newNumber:w,handleNumberChange:function(e){O(e.target.value)},addPerson:function(e){e.preventDefault();var n={name:E,number:w},u=t.find(function(e){return e.name===n.name});if(u&&window.confirm("".concat(n.name," on jo luettelossa. Haluatko korvata vanhan numeron?")))return F("Korvattu ".concat(u.name,". Uusi numero on ").concat(w)),setTimeout(function(){F(null)},5e3),void f(Object(a.a)({},u,{number:w})).then(function(e){o(t.map(function(n){return n.name===E?e.data:n})),g(""),O("")});s(n).then(function(e){o(t.concat(e.data)),g(""),O("")}).catch(function(e){F(e.response.data),console.log(e.response.data)})}}),r.a.createElement("h2",{className:"h2"},"Numerot"),r.a.createElement(b,{persons:J,deletePerson:function(e){var n=t.find(function(n){return n.id===e});window.confirm("Poistetaanko ".concat(n.name))&&d(e).then(function(){F("Poistettu ".concat(n.name)),setTimeout(function(){F(null)},3e3),o(t.filter(function(n){return n.id!==e}))}).catch(function(a){F("muistiinpano \"'".concat(n.name,"'\" on jo valitettavasti poistettu palvelimelta")),setTimeout(function(){F(null)},5e3),o(t.filter(function(n){return n.id!==e}))})}}))},g=t(11);t.n(g).a.render(r.a.createElement(E,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.37745ded.chunk.js.map